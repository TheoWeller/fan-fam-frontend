{"ast":null,"code":"import _objectSpread from \"/Users/theoweller/Documents/dev/Flatiron/module-5/final-project/fan-fam2/frontend/fan-fam-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/theoweller/Documents/dev/Flatiron/module-5/final-project/fan-fam2/frontend/fan-fam-frontend/src/components/ArtistViews/SubscriptionPage.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Input, Header, Modal, Grid, Segment } from 'semantic-ui-react';\nimport Clipboard from 'clipboard';\nimport { updateSubscriptionProps } from '../../actions/subscriptionActions';\n\nclass Subscribe extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      slug: \"\",\n      title: \"\",\n      editTitle: false,\n      error: false\n    };\n\n    this.handleFormChange = (fieldInputName, event) => {\n      switch (fieldInputName) {\n        case \"slug\":\n          this.setState(_objectSpread({}, this.state, {\n            slug: event.target.value\n          }));\n          break;\n\n        case \"title\":\n          this.setState(_objectSpread({}, this.state, {\n            title: event.target.value\n          }));\n          break;\n      }\n    };\n\n    this.handleFormSubmit = () => {\n      this.props.updateSubscriptionProps({\n        slug: this.state.slug,\n        pageId: this.props.subscriptionProps.pageId,\n        title: this.state.title\n      });\n    };\n\n    this.handleEditTitle = (action, event) => {\n      switch (action) {\n        case \"edit\":\n          this.setState(_objectSpread({}, this.state, {\n            editTitle: true\n          }));\n          break;\n\n        case \"done\":\n          this.setState(_objectSpread({}, this.state, {\n            editTitle: false\n          }), this.handleFormSubmit);\n          break;\n      }\n    };\n\n    this.zipInput = () => {\n      return React.createElement(Form.Input, {\n        disabled: true,\n        transparent: true,\n        placeholder: \"Zipcode\",\n        value: this.state.zip,\n        name: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      });\n    };\n\n    this.close = () => {\n      this.setState(_objectSpread({}, this.state, {\n        editTitle: false\n      }));\n    };\n\n    this.copySubscriptionLink = () => {\n      document.execCommand(\"copy\");\n    };\n  }\n\n  componentDidMount() {\n    new Clipboard('.copyButton', {\n      text: () => \"http://localhost:3001/subscribe/\".concat(this.state.slug)\n    });\n    this.setState(_objectSpread({}, this.state, {\n      slug: this.props.subscriptionProps.slug,\n      title: this.props.subscriptionProps.title\n    }));\n  }\n\n  render() {\n    console.log(\"ARRTIST-SUB\", this.state);\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      open: this.state.editTitle,\n      basic: true,\n      size: \"tiny\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Header, {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Form, {\n      size: \"massive\",\n      onSubmit: event => this.handleEditTitle(\"done\", event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Input, {\n      textAlign: \"center\",\n      transparent: true,\n      value: this.state.title,\n      onChange: event => this.handleFormChange(\"title\", event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Input, {\n      transparent: true,\n      value: this.state.slug,\n      placeholder: \"Enter custom url\",\n      name: \"password\",\n      label: \"http://localhost:3001/subscribe/\",\n      onChange: event => this.handleFormChange(\"slug\", event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(Segment, {\n      textAlign: \"center\",\n      id: \"header-edit-segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"massive\",\n      inverted: true,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      size: \"massive\",\n      inverted: true,\n      type: \"button\",\n      onClick: () => this.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Save\"))))), React.createElement(\"div\", {\n      id: \"user-subscription-copy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      basic: true,\n      inverted: true,\n      size: \"large\",\n      type: \"button\",\n      \"data-clipboard-action\": \"copy\",\n      content: \"http://localhost:3001/subscribe/\".concat(this.state.slug),\n      onClick: () => this.copySubscriptionLink,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"artist-subscribe-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Header, {\n      inverted: true,\n      size: \"huge\",\n      textAlign: \"center\",\n      content: \"\".concat(this.state.title),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(Segment, {\n      textAlign: \"center\",\n      id: \"header-edit-segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Button, {\n      basic: true,\n      size: \"massive\",\n      inverted: true,\n      onClick: () => this.handleEditTitle(\"edit\", null),\n      content: \"Edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"fan-subscribe-form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Form, {\n      size: \"massive\",\n      onSubmit: this.handleFormSubmit,\n      style: {\n        \"margin-left\": \"40%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      required: true,\n      id: \"phone-field-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      disabled: true,\n      transparent: true,\n      id: \"phone-input-1\",\n      placeholder: \"(xxx)\",\n      value: this.state.phone1,\n      type: \"number\",\n      step: \"0.01\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      required: true,\n      id: \"phone-field-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      disabled: true,\n      transparent: true,\n      id: \"phone-input-2\",\n      placeholder: \"xxx\",\n      value: this.state.phone2,\n      type: \"number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      required: true,\n      id: \"phone-field-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      disabled: true,\n      transparent: true,\n      id: \"phone-input-3\",\n      placeholder: \"xxxx\",\n      value: this.state.phone3,\n      type: \"number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })))), React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      width: 6,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, this.zipInput())), React.createElement(Button, {\n      basic: true,\n      inverted: true,\n      size: \"large\",\n      style: {\n        \"margin-top\": \"4%\",\n        \"margin-left\": \"11%\"\n      },\n      type: \"submit\",\n      content: \"Subscribe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateSubscriptionProps: updatedProps => dispatch(updateSubscriptionProps(updatedProps))\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    subscriptionProps: state.sessionsReducer.currentUser.subscriptionProps\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Subscribe); // <Form>\n//   <Form.Field>\n//     <Input\n//       transparent\n//       label={`http://localhost:3001/subscribe/${this.state.slug}`}\n//       onChange={\"\"}\n//     />\n//   </Form.Field>\n// </Form>","map":{"version":3,"sources":["/Users/theoweller/Documents/dev/Flatiron/module-5/final-project/fan-fam2/frontend/fan-fam-frontend/src/components/ArtistViews/SubscriptionPage.js"],"names":["React","Component","Fragment","connect","Button","Form","Input","Header","Modal","Grid","Segment","Clipboard","updateSubscriptionProps","Subscribe","state","slug","title","editTitle","error","handleFormChange","fieldInputName","event","setState","target","value","handleFormSubmit","props","pageId","subscriptionProps","handleEditTitle","action","zipInput","zip","close","copySubscriptionLink","document","execCommand","componentDidMount","text","render","console","log","phone1","phone2","phone3","mapDispatchToProps","dispatch","updatedProps","mapStateToProps","sessionsReducer","currentUser"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Input, Header, Modal, Grid, Segment } from 'semantic-ui-react'\nimport Clipboard from 'clipboard';\n\nimport { updateSubscriptionProps } from '../../actions/subscriptionActions'\n\nclass Subscribe extends Component {\n  state={ slug: \"\", title: \"\", editTitle: false, error: false}\n\n\n  componentDidMount(){\n    new Clipboard('.copyButton', {\n        text: () => `http://localhost:3001/subscribe/${this.state.slug}`\n    });\n\n      this.setState({\n        ...this.state,\n        slug: this.props.subscriptionProps.slug,\n        title: this.props.subscriptionProps.title\n      })\n    }\n\n  handleFormChange = (fieldInputName, event) => {\n    switch(fieldInputName){\n      case \"slug\":\n        this.setState( {...this.state, slug: event.target.value} )\n      break;\n      case \"title\":\n        this.setState( {...this.state, title: event.target.value} )\n      break;\n    }\n  }\n\n  //TODO: add error handling to urls that are not unique\n  handleFormSubmit = () => {\n    this.props.updateSubscriptionProps({\n      slug: this.state.slug,\n      pageId: this.props.subscriptionProps.pageId,\n      title: this.state.title\n    })\n  }\n\n  handleEditTitle = (action, event) => {\n    switch(action) {\n      case \"edit\":\n        this.setState({...this.state, editTitle: true})\n      break;\n      case \"done\":\n        this.setState({...this.state, editTitle: false}, this.handleFormSubmit)\n      break;\n    }\n  }\n\n  zipInput = () => {\n    return (\n      <Form.Input\n      disabled\n      transparent\n      placeholder='Zipcode'\n      value={this.state.zip}\n      name=\"password\"\n      />\n    )\n  }\n\n  close = () => {\n    this.setState({...this.state, editTitle: false})\n  }\n\n  copySubscriptionLink = () => {\n    document.execCommand(\"copy\");\n  }\n\n  render (){\n    console.log(\"ARRTIST-SUB\", this.state);\n    return (\n      <Fragment>\n      <Modal open={this.state.editTitle} basic size='tiny'>\n        <Header textAlign=\"center\"/>\n          <Modal.Content>\n            <Form size='massive'\n            onSubmit={(event) => this.handleEditTitle(\"done\", event)}\n            >\n              <Form.Field required>\n                <Input\n                textAlign='center'\n                transparent\n                value={this.state.title}\n                onChange={(event) => this.handleFormChange(\"title\", event)}/>\n              </Form.Field>\n              <Form.Field>\n                <Input transparent value={this.state.slug} placeholder='Enter custom url'name=\"password\" label='http://localhost:3001/subscribe/'  onChange={(event) => this.handleFormChange(\"slug\", event)}/>\n              </Form.Field>\n              <Segment textAlign='center' id=\"header-edit-segment\">\n                <Button\n                  size='massive'\n                  inverted type='submit'>Cancel\n                </Button>\n                <Button\n                  size='massive'\n                  inverted type='button'\n                  onClick={() => this.close()}\n                >\n                  Save\n                </Button>\n              </Segment>\n          </Form>\n          </Modal.Content>\n      </Modal>\n        <div id=\"user-subscription-copy\">\n          <Button\n            basic\n            inverted\n            size=\"large\"\n            type='button'\n            data-clipboard-action=\"copy\"\n            content={`http://localhost:3001/subscribe/${this.state.slug}`}\n            onClick={() => this.copySubscriptionLink}\n          />\n        </div>\n        <div id=\"artist-subscribe-header\">\n          <Header\n            inverted\n            size='huge'\n            textAlign='center'\n            content={`${this.state.title}`}\n          />\n          <Segment textAlign='center' id=\"header-edit-segment\">\n            <Button\n              basic\n              size='massive'\n              inverted\n              onClick={() => this.handleEditTitle(\"edit\", null)}\n              content='Edit'\n            />\n          </Segment>\n        </div>\n          <div id=\"fan-subscribe-form-container\">\n            <Grid>\n              <Form size=\"massive\" onSubmit={this.handleFormSubmit} style={{\"margin-left\": \"40%\"}}>\n                <Grid.Row>\n                  <Form.Group>\n\n                    <Form.Field required id=\"phone-field-1\">\n                      <Form.Input\n                      disabled\n                      transparent\n                      id=\"phone-input-1\"\n                      placeholder='(xxx)'\n                      value={this.state.phone1}\n                      type=\"number\"\n                      step=\"0.01\"\n                      />\n                    </Form.Field>\n\n                    <Form.Field required id=\"phone-field-2\">\n                      <Form.Input\n                      disabled\n                      transparent\n                      id=\"phone-input-2\"\n                      placeholder='xxx'\n                      value={this.state.phone2}\n                      type=\"number\"\n                    />\n                    </Form.Field>\n\n                    <Form.Field required id=\"phone-field-3\">\n                      <Form.Input\n                      disabled\n                      transparent\n                      id=\"phone-input-3\"\n                      placeholder='xxxx'\n                      value={this.state.phone3}\n                      type=\"number\"\n                      />\n                    </Form.Field>\n\n                  </Form.Group>\n                </Grid.Row>\n                <Grid.Row>\n                  <Form.Field width={6} required>\n                  {this.zipInput()}\n                  </Form.Field>\n                </Grid.Row>\n                <Button basic inverted size=\"large\" style={{\"margin-top\": \"4%\", \"margin-left\": \"11%\"}} type='submit' content=\"Subscribe\"/>\n              </Form>\n            </Grid>\n          </div>\n        </Fragment>\n    )\n\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {updateSubscriptionProps: (updatedProps)=> dispatch(updateSubscriptionProps(updatedProps))}\n}\n\nconst mapStateToProps = (state) => {\n    return {subscriptionProps: state.sessionsReducer.currentUser.subscriptionProps}\n  }\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Subscribe)\n\n\n// <Form>\n//   <Form.Field>\n//     <Input\n//       transparent\n//       label={`http://localhost:3001/subscribe/${this.state.slug}`}\n//       onChange={\"\"}\n//     />\n//   </Form.Field>\n// </Form>\n"]},"metadata":{},"sourceType":"module"}