{"ast":null,"code":"'use strict';\n\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nfunction isNull(value) {\n  return value === null;\n}\n\nfunction isObject(value) {\n  return value === Object(value);\n}\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n\nfunction isDate(value) {\n  return value instanceof Date;\n}\n\nfunction isBlob(value) {\n  return value && typeof value.size === 'number' && typeof value.type === 'string' && typeof value.slice === 'function';\n}\n\nfunction isFile(value) {\n  return isBlob(value) && (typeof value.lastModifiedDate === 'object' || typeof value.lastModified === 'number') && typeof value.name === 'string';\n}\n\nfunction isFormData(value) {\n  return value instanceof FormData;\n}\n\nfunction objectToFormData(obj, cfg, fd, pre) {\n  if (isFormData(cfg)) {\n    pre = fd;\n    fd = cfg;\n    cfg = null;\n  }\n\n  cfg = cfg || {};\n  cfg.indices = isUndefined(cfg.indices) ? false : cfg.indices;\n  cfg.nulls = isUndefined(cfg.nulls) ? true : cfg.nulls;\n  fd = fd || new FormData();\n\n  if (isUndefined(obj)) {\n    return fd;\n  } else if (isNull(obj)) {\n    if (cfg.nulls) {\n      fd.append(pre, '');\n    }\n  } else if (isArray(obj)) {\n    if (!obj.length) {\n      var key = pre + '[]';\n      fd.append(key, '');\n    } else {\n      obj.forEach(function (value, index) {\n        var key = pre + '[' + (cfg.indices ? index : '') + ']';\n        objectToFormData(value, cfg, fd, key);\n      });\n    }\n  } else if (isDate(obj)) {\n    fd.append(pre, obj.toISOString());\n  } else if (isObject(obj) && !isFile(obj) && !isBlob(obj)) {\n    Object.keys(obj).forEach(function (prop) {\n      var value = obj[prop];\n\n      if (isArray(value)) {\n        while (prop.length > 2 && prop.lastIndexOf('[]') === prop.length - 2) {\n          prop = prop.substring(0, prop.length - 2);\n        }\n      }\n\n      var key = pre ? pre + '[' + prop + ']' : prop;\n      objectToFormData(value, cfg, fd, key);\n    });\n  } else {\n    fd.append(pre, obj);\n  }\n\n  return fd;\n}\n\nmodule.exports = objectToFormData;","map":null,"metadata":{},"sourceType":"script"}