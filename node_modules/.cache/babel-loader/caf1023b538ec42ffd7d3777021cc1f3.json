{"ast":null,"code":"import _objectSpread from \"/Users/theoweller/Documents/dev/Flatiron/module-5/final-project/fan-fam2/frontend/fan-fam-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/theoweller/Documents/dev/Flatiron/module-5/final-project/fan-fam2/frontend/fan-fam-frontend/src/components/ArtistViews/SubscriptionPage.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Input, Header, Modal, Grid, Segment, Icon, Popup } from 'semantic-ui-react';\nimport Clipboard from 'clipboard';\nimport { updateSubscriptionProps } from '../../actions/subscriptionActions';\n\nclass Subscribe extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      slug: \"\",\n      title: \"\",\n      editTitle: false,\n      error: false,\n      linkCopied: false\n    };\n\n    this.handleFormChange = (fieldInputName, event) => {\n      switch (fieldInputName) {\n        case \"slug\":\n          this.setState(_objectSpread({}, this.state, {\n            slug: event.target.value\n          }));\n          break;\n\n        case \"title\":\n          this.setState(_objectSpread({}, this.state, {\n            title: event.target.value\n          }));\n          break;\n      }\n    };\n\n    this.handleFormSubmit = () => {\n      this.props.updateSubscriptionProps({\n        slug: this.state.slug,\n        pageId: this.props.subscriptionProps.pageId,\n        title: this.state.title\n      });\n    };\n\n    this.handleEditTitle = (action, event) => {\n      switch (action) {\n        case \"edit\":\n          this.setState(_objectSpread({}, this.state, {\n            editTitle: true\n          }));\n          break;\n\n        case \"done\":\n          this.setState(_objectSpread({}, this.state, {\n            editTitle: false\n          }), this.handleFormSubmit);\n          break;\n      }\n    };\n\n    this.zipInput = () => {\n      return React.createElement(Form.Input, {\n        disabled: true,\n        transparent: true,\n        placeholder: \"Zipcode\",\n        value: this.state.zip,\n        name: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    };\n\n    this.close = () => {\n      this.setState(_objectSpread({}, this.state, {\n        editTitle: false\n      }));\n    };\n\n    this.copySubscriptionLink = () => {\n      document.execCommand(\"copy\");\n      this.setState(_objectSpread({}, this.state));\n    };\n\n    this.copyConfirmation = () => {\n      switch (this.state.linkCopied) {\n        case true:\n          return \"Copied!\";\n          break;\n\n        case false:\n          return \"Click to copy...\";\n      }\n    };\n  }\n\n  componentDidMount() {\n    // new Clipboard('#copy-url-btn');\n    this.setState(_objectSpread({}, this.state, {\n      slug: this.props.subscriptionProps.slug,\n      title: this.props.subscriptionProps.title\n    }));\n  }\n\n  render() {\n    const url = \"http://localhost:3001/subscribe/\".concat(this.state.slug); //FOR COMPYING TO CLIPBOARD\n\n    console.log(\"ARRTIST-SUB\", this.state);\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      open: this.state.editTitle,\n      basic: true,\n      size: \"tiny\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Header, {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Form, {\n      size: \"massive\",\n      onSubmit: event => this.handleEditTitle(\"done\", event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Input, {\n      textAlign: \"center\",\n      transparent: true,\n      value: this.state.title,\n      onChange: event => this.handleFormChange(\"title\", event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Input, {\n      transparent: true,\n      value: this.state.slug,\n      placeholder: \"Enter custom url\",\n      name: \"password\",\n      label: \"http://localhost:3001/subscribe/\",\n      onChange: event => this.handleFormChange(\"slug\", event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(Segment, {\n      textAlign: \"center\",\n      id: \"header-edit-segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"massive\",\n      inverted: true,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      size: \"massive\",\n      inverted: true,\n      type: \"button\",\n      onClick: () => this.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Save\"))))), React.createElement(\"div\", {\n      id: \"user-subscription-copy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"massive\",\n      animated: \"fade\",\n      icon: true,\n      labelPosition: \"right\",\n      id: \"copy-url-btn\",\n      basic: true,\n      inverted: true,\n      size: \"large\",\n      type: \"button\",\n      \"data-clipboard-text\": url,\n      \"data-clipboard-action\": \"copy\",\n      onClick: () => this.copySubscriptionLink,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Button.Content, {\n      visible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"http://localhost:3001/subscribe/\".concat(this.props.slug)), React.createElement(Button.Content, {\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.copyConfirmation(false)), React.createElement(Icon, {\n      name: \"copy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"artist-subscribe-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Header, {\n      inverted: true,\n      size: \"huge\",\n      textAlign: \"center\",\n      content: \"\".concat(this.state.title),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Segment, {\n      textAlign: \"center\",\n      id: \"header-edit-segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Button, {\n      basic: true,\n      size: \"massive\",\n      inverted: true,\n      onClick: () => this.handleEditTitle(\"edit\", null),\n      content: \"Edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"fan-subscribe-form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Form, {\n      size: \"massive\",\n      onSubmit: this.handleFormSubmit,\n      style: {\n        \"margin-left\": \"40%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      required: true,\n      id: \"phone-field-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      disabled: true,\n      transparent: true,\n      id: \"phone-input-1\",\n      placeholder: \"(xxx)\",\n      value: this.state.phone1,\n      type: \"number\",\n      step: \"0.01\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      required: true,\n      id: \"phone-field-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      disabled: true,\n      transparent: true,\n      id: \"phone-input-2\",\n      placeholder: \"xxx\",\n      value: this.state.phone2,\n      type: \"number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      required: true,\n      id: \"phone-field-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      disabled: true,\n      transparent: true,\n      id: \"phone-input-3\",\n      placeholder: \"xxxx\",\n      value: this.state.phone3,\n      type: \"number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })))), React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      width: 6,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, this.zipInput())), React.createElement(Button, {\n      basic: true,\n      inverted: true,\n      size: \"large\",\n      style: {\n        \"margin-top\": \"4%\",\n        \"margin-left\": \"11%\"\n      },\n      type: \"submit\",\n      content: \"Subscribe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateSubscriptionProps: updatedProps => dispatch(updateSubscriptionProps(updatedProps))\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    subscriptionProps: state.sessionsReducer.currentUser.subscriptionProps,\n    slug: state.sessionsReducer.currentUser.subscriptionProps.slug\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Subscribe); // <Form>\n//   <Form.Field>\n//     <Input\n//       transparent\n//       label={`http://localhost:3001/subscribe/${this.state.slug}`}\n//       onChange={\"\"}\n//     />\n//   </Form.Field>\n// </Form>\n// <Popup position='top center' content='Copied!' trigger={} />","map":{"version":3,"sources":["/Users/theoweller/Documents/dev/Flatiron/module-5/final-project/fan-fam2/frontend/fan-fam-frontend/src/components/ArtistViews/SubscriptionPage.js"],"names":["React","Component","Fragment","connect","Button","Form","Input","Header","Modal","Grid","Segment","Icon","Popup","Clipboard","updateSubscriptionProps","Subscribe","state","slug","title","editTitle","error","linkCopied","handleFormChange","fieldInputName","event","setState","target","value","handleFormSubmit","props","pageId","subscriptionProps","handleEditTitle","action","zipInput","zip","close","copySubscriptionLink","document","execCommand","copyConfirmation","componentDidMount","render","url","console","log","phone1","phone2","phone3","mapDispatchToProps","dispatch","updatedProps","mapStateToProps","sessionsReducer","currentUser"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Form, Input, Header, Modal, Grid, Segment, Icon, Popup} from 'semantic-ui-react'\nimport Clipboard from 'clipboard';\n\nimport { updateSubscriptionProps } from '../../actions/subscriptionActions'\n\nclass Subscribe extends Component {\n  state= {\n    slug: \"\",\n    title: \"\",\n    editTitle: false,\n    error: false,\n    linkCopied: false\n  }\n\n\n\n  componentDidMount(){\n    // new Clipboard('#copy-url-btn');\n      this.setState({\n        ...this.state,\n        slug: this.props.subscriptionProps.slug,\n        title: this.props.subscriptionProps.title\n      })\n    }\n\n  handleFormChange = (fieldInputName, event) => {\n    switch(fieldInputName){\n      case \"slug\":\n        this.setState( {...this.state, slug: event.target.value} )\n      break;\n      case \"title\":\n        this.setState( {...this.state, title: event.target.value} )\n      break;\n    }\n  }\n\n  //TODO: add error handling to urls that are not unique\n  handleFormSubmit = () => {\n    this.props.updateSubscriptionProps({\n      slug: this.state.slug,\n      pageId: this.props.subscriptionProps.pageId,\n      title: this.state.title\n    })\n  }\n\n  handleEditTitle = (action, event) => {\n    switch(action) {\n      case \"edit\":\n        this.setState({...this.state, editTitle: true})\n      break;\n      case \"done\":\n        this.setState({...this.state, editTitle: false}, this.handleFormSubmit)\n      break;\n    }\n  }\n\n  zipInput = () => {\n    return (\n      <Form.Input\n      disabled\n      transparent\n      placeholder='Zipcode'\n      value={this.state.zip}\n      name=\"password\"\n      />\n    )\n  }\n\n  close = () => {\n    this.setState({...this.state, editTitle: false})\n  }\n\n  copySubscriptionLink = () => {\n    document.execCommand(\"copy\");\n    this.setState({ ...this.state, })\n  }\n\n  copyConfirmation = () => {\n    switch(this.state.linkCopied){\n      case true:\n        return \"Copied!\"\n      break;\n      case false:\n        return \"Click to copy...\"\n    }\n  }\n\n  render (){\n    const url = `http://localhost:3001/subscribe/${this.state.slug}`//FOR COMPYING TO CLIPBOARD\n    console.log(\"ARRTIST-SUB\", this.state);\n    return (\n      <Fragment>\n      <Modal open={this.state.editTitle} basic size='tiny'>\n        <Header textAlign=\"center\"/>\n          <Modal.Content>\n            <Form size='massive'\n            onSubmit={(event) => this.handleEditTitle(\"done\", event)}\n            >\n              <Form.Field required>\n                <Input\n                textAlign='center'\n                transparent\n                value={this.state.title}\n                onChange={(event) => this.handleFormChange(\"title\", event)}/>\n              </Form.Field>\n              <Form.Field>\n                <Input transparent value={this.state.slug} placeholder='Enter custom url'name=\"password\" label='http://localhost:3001/subscribe/'  onChange={(event) => this.handleFormChange(\"slug\", event)}/>\n              </Form.Field>\n              <Segment textAlign='center' id=\"header-edit-segment\">\n                <Button\n                  size='massive'\n                  inverted type='submit'>Cancel\n                </Button>\n                <Button\n                  size='massive'\n                  inverted type='button'\n                  onClick={() => this.close()}\n                >\n                  Save\n                </Button>\n              </Segment>\n          </Form>\n          </Modal.Content>\n      </Modal>\n        <div id=\"user-subscription-copy\">\n\n          <Button\n            size=\"massive\"\n            animated='fade'\n            icon\n            labelPosition='right'\n            id=\"copy-url-btn\"\n            basic\n            inverted\n            size=\"large\"\n            type='button'\n            data-clipboard-text={ url }\n            data-clipboard-action=\"copy\"\n            onClick={() => this.copySubscriptionLink}\n          >\n            <Button.Content visible>{`http://localhost:3001/subscribe/${this.props.slug}`}</Button.Content>\n            <Button.Content hidden>{this.copyConfirmation(false)}</Button.Content>\n          <Icon name='copy'/>\n          </Button>\n\n        </div>\n        <div id=\"artist-subscribe-header\">\n          <Header\n            inverted\n            size='huge'\n            textAlign='center'\n            content={`${this.state.title}`}\n          />\n          <Segment textAlign='center' id=\"header-edit-segment\">\n            <Button\n              basic\n              size='massive'\n              inverted\n              onClick={() => this.handleEditTitle(\"edit\", null)}\n              content='Edit'\n            />\n          </Segment>\n        </div>\n          <div id=\"fan-subscribe-form-container\">\n            <Grid>\n              <Form size=\"massive\" onSubmit={this.handleFormSubmit} style={{\"margin-left\": \"40%\"}}>\n                <Grid.Row>\n                  <Form.Group>\n\n                    <Form.Field required id=\"phone-field-1\">\n                      <Form.Input\n                      disabled\n                      transparent\n                      id=\"phone-input-1\"\n                      placeholder='(xxx)'\n                      value={this.state.phone1}\n                      type=\"number\"\n                      step=\"0.01\"\n                      />\n                    </Form.Field>\n\n                    <Form.Field required id=\"phone-field-2\">\n                      <Form.Input\n                      disabled\n                      transparent\n                      id=\"phone-input-2\"\n                      placeholder='xxx'\n                      value={this.state.phone2}\n                      type=\"number\"\n                    />\n                    </Form.Field>\n\n                    <Form.Field required id=\"phone-field-3\">\n                      <Form.Input\n                      disabled\n                      transparent\n                      id=\"phone-input-3\"\n                      placeholder='xxxx'\n                      value={this.state.phone3}\n                      type=\"number\"\n                      />\n                    </Form.Field>\n\n                  </Form.Group>\n                </Grid.Row>\n                <Grid.Row>\n                  <Form.Field width={6} required>\n                  {this.zipInput()}\n                  </Form.Field>\n                </Grid.Row>\n                <Button basic inverted size=\"large\" style={{\"margin-top\": \"4%\", \"margin-left\": \"11%\"}} type='submit' content=\"Subscribe\"/>\n              </Form>\n            </Grid>\n          </div>\n        </Fragment>\n    )\n\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {updateSubscriptionProps: (updatedProps)=> dispatch(updateSubscriptionProps(updatedProps))}\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      subscriptionProps: state.sessionsReducer.currentUser.subscriptionProps,\n      slug: state.sessionsReducer.currentUser.subscriptionProps.slug\n    }\n  }\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Subscribe)\n\n\n// <Form>\n//   <Form.Field>\n//     <Input\n//       transparent\n//       label={`http://localhost:3001/subscribe/${this.state.slug}`}\n//       onChange={\"\"}\n//     />\n//   </Form.Field>\n// </Form>\n\n// <Popup position='top center' content='Copied!' trigger={} />\n"]},"metadata":{},"sourceType":"module"}